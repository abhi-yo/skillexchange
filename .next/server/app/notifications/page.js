(()=>{var e={};e.id=193,e.ids=[193],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},53738:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(77114),r(73562),r(85133);var s=r(79193),a=r(71854),n=r(33997),i=r.n(n),o=r(73320),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,77114)),"C:\\Users\\Akshat\\projects\\april\\skillswap\\app\\notifications\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,73562)),"C:\\Users\\Akshat\\projects\\april\\skillswap\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,85133,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Akshat\\projects\\april\\skillswap\\app\\notifications\\page.tsx"],u="/notifications/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/notifications/page",pathname:"/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1030:(e,t,r)=>{Promise.resolve().then(r.bind(r,35819))},11999:(e,t,r)=>{Promise.resolve().then(r.bind(r,42388)),Promise.resolve().then(r.bind(r,22220)),Promise.resolve().then(r.bind(r,21580))},93416:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,19388,23)),Promise.resolve().then(r.t.bind(r,71152,23)),Promise.resolve().then(r.t.bind(r,22764,23)),Promise.resolve().then(r.t.bind(r,76894,23)),Promise.resolve().then(r.t.bind(r,73299,23)),Promise.resolve().then(r.t.bind(r,30184,23))},35819:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s=r(27486),a=r(618),n=r.n(a),i=r(38165),o=r(46811),l=r(59149),d=r(56791),c=r(79865),u=r(94627),p=r(8383),h=r(94297),x=r(85346),m=r(20413),f=r(35210),b=r(73236),v=r(59054),g=r(91405),y=r(72033),j=r(21580);let w=()=>{let e=(0,o.useRouter)(),{data:t,status:r}=(0,l.useSession)(),a=d.S.useUtils();n().useEffect(()=>{"unauthenticated"===r&&e.push("/login")},[r,e]);let{data:w,isLoading:k,error:N,refetch:_}=d.S.user.getNotifications.useQuery(void 0,{enabled:"authenticated"===r,staleTime:6e4}),E=d.S.user.markNotificationsAsRead.useMutation({onSuccess:e=>{e.success?(j.Am.success("Notifications marked as read."),a.user.getNotifications.invalidate(),a.user.getDashboardStats.invalidate()):j.Am.error("Failed to mark notifications as read.")},onError:e=>{j.Am.error("Failed to mark notifications as read."),console.error("Mark read error:",e)}}),P=e=>{switch(e){case"MESSAGE":return{Icon:c.Z,color:"bg-blue-100"};case"EXCHANGE_REQUEST":return{Icon:u.Z,color:"bg-yellow-100"};case"EXCHANGE_ACCEPTED":case"EXCHANGE_COMPLETED":return{Icon:p.Z,color:"bg-green-100"};case"EXCHANGE_SCHEDULED":return{Icon:u.Z,color:"bg-indigo-100"};case"EXCHANGE_DECLINED":return{Icon:h.Z,color:"bg-red-100"};case"EXCHANGE_CANCELLED":return{Icon:h.Z,color:"bg-gray-100"};default:return{Icon:x.Z,color:"bg-gray-100"}}};return"loading"===r||k?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-blue-50",children:s.jsx(m.Z,{className:"animate-spin h-12 w-12 text-blue-600"})}):N?(0,s.jsxs)("div",{className:"min-h-screen bg-blue-50 py-10 font-inter text-center",children:[(0,s.jsxs)("p",{className:"text-red-600",children:["Error loading notifications: ",N.message]}),s.jsx(i.default,{href:"/dashboard",children:s.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-200 border-2 border-black shadow-md",children:"Back to Dashboard"})})]}):s.jsx("div",{className:"min-h-screen bg-blue-50 py-10 font-inter",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-3xl",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.default,{href:"/dashboard",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-black mb-1",children:[s.jsx(f.Z,{size:16,className:"mr-1"}),"Back to Dashboard"]}),s.jsx("h1",{className:"font-satoshi tracking-tight text-3xl font-bold",children:"Notifications"})]}),s.jsx("div",{children:(0,s.jsxs)(y.z,{onClick:()=>{E.mutate({})},disabled:E.isPending||!w?.some(e=>!e.isRead),className:"text-sm border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[1px] hover:translate-y-[1px] transition-all bg-white",children:[E.isPending?s.jsx(m.Z,{size:16,className:"animate-spin mr-2"}):s.jsx(b.Z,{size:16,className:"mr-2"}),"Mark All as Read"]})})]}),s.jsx("div",{className:"space-y-4",children:w&&w.length>0?w.map(e=>{let{Icon:t,color:r}=P(e.type),a=s.jsx("div",{className:(0,g.cn)("block bg-white border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-4 transition-all duration-150",e.exchangeId&&"hover:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-0.5 cursor-pointer",!e.isRead&&"border-blue-500"),children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`flex-shrink-0 w-8 h-8 border border-black flex items-center justify-center ${r}`,children:s.jsx(t,{size:16})}),(0,s.jsxs)("div",{className:"flex-grow",children:[s.jsx("p",{className:"text-sm font-medium text-black",children:e.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.createdAt?(0,v.WU)(new Date(e.createdAt),"PP p"):""})]}),!e.isRead&&s.jsx("div",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-blue-500 mt-1","aria-label":"Unread"})]})});return e.exchangeId?s.jsx(i.default,{href:`/exchanges/${e.exchangeId}`,children:a},e.id):s.jsx("div",{children:a},e.id)}):(0,s.jsxs)("div",{className:"text-center py-16 border-2 border-dashed border-gray-400 bg-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[s.jsx(x.Z,{size:40,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Notifications Yet"}),s.jsx("p",{className:"text-gray-600",children:"You currently have no notifications."})]})})]})})}},22220:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(27486),a=r(27880),n=r(35668),i=r(79730),o=r(618),l=r(56791);function d({children:e}){let[t]=(0,o.useState)(()=>new a.S),[r]=(0,o.useState)(()=>l.S.createClient({links:[(0,i.N8)({url:`${process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:`http://localhost:${process.env.PORT??3e3}`}/api/trpc`})]}));return s.jsx(l.S.Provider,{client:r,queryClient:t,children:s.jsx(n.aH,{client:t,children:e})})}},42388:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(27486),a=r(59149);function n({children:e}){return s.jsx(a.SessionProvider,{children:e})}},72033:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var s=r(27486),a=r(12602),n=r(4039);r(618);var i=r(91405);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-base text-sm font-base ring-offset-white transition-all gap-2 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-black focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-main-foreground bg-main border-2 border-border shadow-shadow hover:translate-x-boxShadowX hover:translate-y-boxShadowY hover:shadow-none",noShadow:"text-main-foreground bg-main border-2 border-border",neutral:"bg-secondary-background text-foreground border-2 border-border shadow-shadow hover:translate-x-boxShadowX hover:translate-y-boxShadowY hover:shadow-none",reverse:"text-main-foreground bg-main border-2 border-border hover:translate-x-reverseBoxShadowX hover:translate-y-reverseBoxShadowY hover:shadow-shadow"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:t,size:r,asChild:n=!1,...l}){let d=n?a.g7:"button";return s.jsx(d,{"data-slot":"button",className:(0,i.cn)(o({variant:t,size:r,className:e})),...l})}},56791:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});let s=(0,r(37518).ec)()},91405:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(69360),a=r(30405);function n(...e){return(0,a.m6)((0,s.W)(e))}},35210:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(88013).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},85346:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(88013).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},8383:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(88013).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},73236:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(88013).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},79865:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(88013).Z)("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z",key:"16vlm8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]])},73562:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g,metadata:()=>v});var s=r(79703),a=r(77411),n=r.n(a),i=r(38471),o=r.n(i);r(53121);var l=r(92334);let d=(0,l.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\TrpcProvider.tsx`),{__esModule:c,$$typeof:u}=d;d.default;let p=(0,l.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\TrpcProvider.tsx#default`),h=(0,l.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\auth-provider.tsx`),{__esModule:x,$$typeof:m}=h;h.default;let f=(0,l.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\auth-provider.tsx#default`);var b=r(98079);let v={title:"SkillSwap",description:"Skill exchange platform"};function g({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:`${n().variable} ${o().variable} font-sans`,children:[s.jsx(f,{children:s.jsx(p,{children:e})}),s.jsx(b.x7,{position:"top-right"})]})})}},77114:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(92334);let a=(0,s.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\app\notifications\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\app\notifications\page.tsx#default`)},53121:()=>{},89842:(e,t,r)=>{"use strict";r.d(t,{F:()=>n,e:()=>i});var s=r(618);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let r=!1,s=e.map(e=>{let s=a(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():a(e[t],null)}}}}function i(...e){return s.useCallback(n(...e),e)}},12602:(e,t,r)=>{"use strict";r.d(t,{Z8:()=>i,g7:()=>o});var s=r(618),a=r(89842),n=r(27486);function i(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:r,...n}=e;if(s.isValidElement(r)){let e,i;let o=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,l=function(e,t){let r={...t};for(let s in t){let a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{n(...e),a(...e)}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==s.Fragment&&(l.ref=t?(0,a.F)(t,o):o),s.cloneElement(r,l)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:a,...i}=e,o=s.Children.toArray(a),l=o.find(d);if(l){let e=l.props.children,a=o.map(t=>t!==l?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...i,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,n.jsx)(t,{...i,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}var o=i("Slot"),l=Symbol("radix.slottable");function d(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}},4039:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var s=r(69360);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.W,i=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],s=null==o?void 0:o[e];if(null===t)return null;let n=a(t)||a(s);return i[e][n]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,l,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...d}[t]):({...o,...d})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[467,628,123,525,124],()=>r(53738));module.exports=s})();