(()=>{var e={};e.id=159,e.ids=[159],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},79042:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(71355),t(73562),t(85133);var r=t(79193),a=t(71854),l=t(33997),i=t.n(l),o=t(73320),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);t.d(s,n);let d=["",{children:["profile",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,71355)),"C:\\Users\\Akshat\\projects\\april\\skillswap\\app\\profile\\edit\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,73562)),"C:\\Users\\Akshat\\projects\\april\\skillswap\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,85133,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Akshat\\projects\\april\\skillswap\\app\\profile\\edit\\page.tsx"],p="/profile/edit/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/edit/page",pathname:"/profile/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},67943:(e,s,t)=>{Promise.resolve().then(t.bind(t,20079))},11999:(e,s,t)=>{Promise.resolve().then(t.bind(t,42388)),Promise.resolve().then(t.bind(t,22220)),Promise.resolve().then(t.bind(t,21580))},93416:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,19388,23)),Promise.resolve().then(t.t.bind(t,71152,23)),Promise.resolve().then(t.t.bind(t,22764,23)),Promise.resolve().then(t.t.bind(t,76894,23)),Promise.resolve().then(t.t.bind(t,73299,23)),Promise.resolve().then(t.t.bind(t,30184,23))},20079:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(27486),a=t(618),l=t(46811),i=t(38165),o=t(59149),n=t(56791),d=t(20413),c=t(94297),p=t(35210),u=t(8383);let x=()=>{let e=(0,l.useRouter)(),{status:s}=(0,o.useSession)({required:!0,onUnauthenticated(){e.push("/login")}}),{data:t,isLoading:x,error:m,refetch:h}=n.S.user.getProfile.useQuery(void 0,{enabled:"authenticated"===s,refetchOnWindowFocus:!0}),b=n.S.user.updateProfile.useMutation({onSuccess:e=>{console.log("Profile updated successfully:",e),Z("Profile updated successfully!"),E(null),h()},onError:e=>{E(e.message||"Failed to update profile."),Z(null)}}),[f,g]=(0,a.useState)(""),[v,k]=(0,a.useState)(""),[j,_]=(0,a.useState)(""),[y,w]=(0,a.useState)(""),[N,P]=(0,a.useState)(""),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)(null),[R,Z]=(0,a.useState)(null);(0,a.useEffect)(()=>{t&&(g(t.name||""),k(t.image||""),_(t.location?.address||[t.location?.city,t.location?.state].filter(Boolean).join(", ")||""),w(t.location?.radius??""),P(t.skills?.map(e=>e.name).join(", ")||""))},[t]);let q=(0,a.useCallback)(e=>{if(e.preventDefault(),E(null),Z(null),!t)return;let s={};f!==(t.name||"")&&(s.name=f),v!==(t.image||"")&&(s.image=v||null),j!==(t.location?.address||[t.location?.city,t.location?.state].filter(Boolean).join(", ")||"")&&(s.locationString=j);let r=t.location?.radius??"",a=""===y?void 0:Number(y);if(a!==(""===r?void 0:Number(r))){let e=""===y||isNaN(a)?void 0:a;s.radius=e}N!==(t.skills?.map(e=>e.name).join(", ")||"")&&(s.skills=N.split(",").map(e=>e.trim()).filter(e=>e.length>0)),Object.keys(s).length>0?(console.log("Updating profile with payload:",s),b.mutate(s)):Z("No changes detected.")},[f,v,j,y,N,t,b]);return"loading"===s||x?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-blue-50",children:r.jsx(d.Z,{className:"animate-spin h-12 w-12 text-blue-600",strokeWidth:2})}):m?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white p-8 border-2 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] text-center",children:[r.jsx(c.Z,{className:"mx-auto h-10 w-10 text-red-500 mb-3",strokeWidth:2}),r.jsx("h2",{className:"font-satoshi text-xl font-bold text-red-700 mb-2",children:"Error Loading Profile"}),r.jsx("p",{className:"text-red-600 text-sm leading-normal",children:"Could not load profile data. Please try again later."}),(0,r.jsxs)(i.default,{href:"/dashboard",className:"inline-flex items-center mt-5 px-4 py-2 bg-red-100 text-red-700 font-semibold border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-none transition-all text-sm focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black",children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4",strokeWidth:2}),"Back to Dashboard"]})]})}):r.jsx("div",{className:"min-h-screen bg-blue-50 p-4 py-10 font-inter",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto bg-white p-8 border-2 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[(0,r.jsxs)("div",{className:"flex items-center mb-8",children:[(0,r.jsxs)(i.default,{href:"/dashboard",className:"inline-flex items-center p-2 bg-white border-2 border-black shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-none transition-all focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black mr-4",children:[r.jsx(p.Z,{className:"h-5 w-5",strokeWidth:2}),r.jsx("span",{className:"sr-only",children:"Back to Dashboard"})]}),r.jsx("h1",{className:"font-satoshi tracking-tight text-4xl font-bold text-black",children:"Edit Your Profile"})]}),A&&r.jsx("div",{className:"mb-5 bg-red-100 border-2 border-red-500 text-red-700 px-4 py-3 shadow-[4px_4px_0px_0px_#ef4444]",children:(0,r.jsxs)("p",{className:"font-medium",children:["Error: ",r.jsx("span",{className:"font-normal",children:A})]})}),R&&r.jsx("div",{className:"mb-5 bg-green-100 border-2 border-green-500 text-green-700 px-4 py-3 shadow-[4px_4px_0px_0px_#22c55e]",children:(0,r.jsxs)("p",{className:"flex items-center",children:[r.jsx(u.Z,{className:"w-4 h-4 mr-2",strokeWidth:2})," ",R]})}),(0,r.jsxs)("form",{onSubmit:q,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-base font-bold font-satoshi text-black mb-1",children:"Name"}),r.jsx("input",{id:"name",name:"name",type:"text",value:f,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border-2 border-black focus:ring-2 focus:ring-blue-500 focus:outline-none focus:border-blue-500 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"image",className:"block text-base font-bold font-satoshi text-black mb-1",children:"Profile Image URL"}),r.jsx("input",{id:"image",name:"image",type:"url",value:v,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border-2 border-black focus:ring-2 focus:ring-blue-500 focus:outline-none focus:border-blue-500 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]",placeholder:"https://your-image-url.com/image.png"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",id:"location",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"location",className:"block text-base font-bold font-satoshi text-black mb-1",children:"Location"}),r.jsx("input",{id:"location",name:"location",type:"text",value:j,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border-2 border-black focus:ring-2 focus:ring-blue-500 focus:outline-none focus:border-blue-500 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]",placeholder:"City, State or Address"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Your general location (e.g., "Austin, TX" or "123 Main St, Anytown").'})]}),(0,r.jsxs)("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"serviceRadius",className:"block text-base font-bold font-satoshi text-black mb-1",children:"Service Radius (miles)"}),r.jsx("input",{id:"serviceRadius",name:"serviceRadius",type:"number",value:y,onChange:e=>w(e.target.value),min:"0",className:"w-full px-3 py-2 border-2 border-black focus:ring-2 focus:ring-blue-500 focus:outline-none focus:border-blue-500 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]",placeholder:"e.g., 15"})]})]}),(0,r.jsxs)("div",{id:"skills",children:[r.jsx("label",{htmlFor:"skills",className:"block text-base font-bold font-satoshi text-black mb-1",children:"Skills"}),r.jsx("textarea",{id:"skills",name:"skills",rows:3,value:N,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 border-2 border-black focus:ring-2 focus:ring-blue-500 focus:outline-none focus:border-blue-500 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]",placeholder:"Enter skills, separated by commas (e.g., Web Development, Graphic Design, Tutoring)"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated list of your skills."})]}),r.jsx("div",{className:"pt-2",children:r.jsx("button",{type:"submit",disabled:b.isPending,className:`w-full flex justify-center py-2.5 px-4 border-2 border-black font-bold text-base text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all duration-150 ${b.isPending?"bg-gray-400 hover:bg-gray-400 cursor-not-allowed hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-0 hover:translate-y-0":""}`,children:b.isPending?(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{className:"animate-spin h-5 w-5 mr-2"})," Saving..."]}):"Save Profile"})})]})]})})}},22220:(e,s,t)=>{"use strict";t.d(s,{default:()=>d});var r=t(27486),a=t(27880),l=t(35668),i=t(79730),o=t(618),n=t(56791);function d({children:e}){let[s]=(0,o.useState)(()=>new a.S),[t]=(0,o.useState)(()=>n.S.createClient({links:[(0,i.N8)({url:`${process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:`http://localhost:${process.env.PORT??3e3}`}/api/trpc`})]}));return r.jsx(n.S.Provider,{client:t,queryClient:s,children:r.jsx(l.aH,{client:s,children:e})})}},42388:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(27486),a=t(59149);function l({children:e}){return r.jsx(a.SessionProvider,{children:e})}},56791:(e,s,t)=>{"use strict";t.d(s,{S:()=>r});let r=(0,t(37518).ec)()},88013:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(618),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,s)=>{let t=(0,r.forwardRef)(({color:t="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:d="",children:c,...p},u)=>(0,r.createElement)("svg",{ref:u,...a,width:i,height:i,stroke:t,strokeWidth:n?24*Number(o)/Number(i):o,className:["lucide",`lucide-${l(e)}`,d].join(" "),...p},[...s.map(([e,s])=>(0,r.createElement)(e,s)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t}},94297:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(88013).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},35210:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(88013).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8383:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(88013).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},20413:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(88013).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},46811:(e,s,t)=>{"use strict";var r=t(30499);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},73562:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v,metadata:()=>g});var r=t(79703),a=t(77411),l=t.n(a),i=t(38471),o=t.n(i);t(53121);var n=t(92334);let d=(0,n.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\TrpcProvider.tsx`),{__esModule:c,$$typeof:p}=d;d.default;let u=(0,n.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\TrpcProvider.tsx#default`),x=(0,n.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\auth-provider.tsx`),{__esModule:m,$$typeof:h}=x;x.default;let b=(0,n.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\auth-provider.tsx#default`);var f=t(98079);let g={title:"SkillSwap",description:"Skill exchange platform"};function v({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:`${l().variable} ${o().variable} font-sans`,children:[r.jsx(b,{children:r.jsx(u,{children:e})}),r.jsx(f.x7,{position:"top-right"})]})})}},71355:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>o});var r=t(92334);let a=(0,r.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\app\profile\edit\page.tsx`),{__esModule:l,$$typeof:i}=a;a.default;let o=(0,r.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\app\profile\edit\page.tsx#default`)},53121:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[467,628,123],()=>t(79042));module.exports=r})();