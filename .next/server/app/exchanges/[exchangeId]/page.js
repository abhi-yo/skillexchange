(()=>{var e={};e.id=690,e.ids=[690],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},20826:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>i}),s(5510),s(73562),s(85133);var r=s(79193),a=s(71854),n=s(33997),o=s.n(n),l=s(73320),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let i=["",{children:["exchanges",{children:["[exchangeId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5510)),"C:\\Users\\Akshat\\projects\\april\\skillswap\\app\\exchanges\\[exchangeId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,73562)),"C:\\Users\\Akshat\\projects\\april\\skillswap\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,85133,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Akshat\\projects\\april\\skillswap\\app\\exchanges\\[exchangeId]\\page.tsx"],x="/exchanges/[exchangeId]/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/exchanges/[exchangeId]/page",pathname:"/exchanges/[exchangeId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},89052:(e,t,s)=>{Promise.resolve().then(s.bind(s,62585))},11999:(e,t,s)=>{Promise.resolve().then(s.bind(s,42388)),Promise.resolve().then(s.bind(s,22220)),Promise.resolve().then(s.bind(s,21580))},93416:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,19388,23)),Promise.resolve().then(s.t.bind(s,71152,23)),Promise.resolve().then(s.t.bind(s,22764,23)),Promise.resolve().then(s.t.bind(s,76894,23)),Promise.resolve().then(s.t.bind(s,73299,23)),Promise.resolve().then(s.t.bind(s,30184,23))},62585:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ek});var r=s(27486),a=s(618),n=s.n(a),o=s(46811),l=s(59149),d=s(56791),i=s(58103),c=s(72033),x=s(20413),u=s(94297),p=s(94627),m=s(73236),h=s(78842),g=s(19261),b=s(35210),f=s(92907),v=s(38165),j=s(42761),y=s(59054),N=s(21580),w=s(94240),_=s(90497),k=s(89842),E=s(68524),D=s(79051),C=s(60326),S=s(95191),P=s(39e3),R=s(55026),A=s(37822),z=s(88773),I=s(42449),Z=s(23243),M=s(25978),q=s(12602),O="Dialog",[F,T]=(0,E.b)(O),[U,$]=F(O),L=e=>{let{__scopeDialog:t,children:s,open:n,defaultOpen:o,onOpenChange:l,modal:d=!0}=e,i=a.useRef(null),c=a.useRef(null),[x,u]=(0,C.T)({prop:n,defaultProp:o??!1,onChange:l,caller:O});return(0,r.jsx)(U,{scope:t,triggerRef:i,contentRef:c,contentId:(0,D.M)(),titleId:(0,D.M)(),descriptionId:(0,D.M)(),open:x,onOpenChange:u,onOpenToggle:a.useCallback(()=>u(e=>!e),[u]),modal:d,children:s})};L.displayName=O;var W="DialogTrigger",B=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=$(W,s),o=(0,k.e)(t,n.triggerRef);return(0,r.jsx)(z.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":ex(n.open),...a,ref:o,onClick:(0,_.M)(e.onClick,n.onOpenToggle)})});B.displayName=W;var V="DialogPortal",[H,X]=F(V,{forceMount:void 0}),Y=e=>{let{__scopeDialog:t,forceMount:s,children:n,container:o}=e,l=$(V,t);return(0,r.jsx)(H,{scope:t,forceMount:s,children:a.Children.map(n,e=>(0,r.jsx)(A.z,{present:s||l.open,children:(0,r.jsx)(R.h,{asChild:!0,container:o,children:e})}))})};Y.displayName=V;var G="DialogOverlay",Q=a.forwardRef((e,t)=>{let s=X(G,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,o=$(G,e.__scopeDialog);return o.modal?(0,r.jsx)(A.z,{present:a||o.open,children:(0,r.jsx)(J,{...n,ref:t})}):null});Q.displayName=G;var K=(0,q.Z8)("DialogOverlay.RemoveScroll"),J=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=$(G,s);return(0,r.jsx)(Z.Z,{as:K,allowPinchZoom:!0,shards:[n.contentRef],children:(0,r.jsx)(z.WV.div,{"data-state":ex(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),ee="DialogContent",et=a.forwardRef((e,t)=>{let s=X(ee,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,o=$(ee,e.__scopeDialog);return(0,r.jsx)(A.z,{present:a||o.open,children:o.modal?(0,r.jsx)(es,{...n,ref:t}):(0,r.jsx)(er,{...n,ref:t})})});et.displayName=ee;var es=a.forwardRef((e,t)=>{let s=$(ee,e.__scopeDialog),n=a.useRef(null),o=(0,k.e)(t,s.contentRef,n);return a.useEffect(()=>{let e=n.current;if(e)return(0,M.Ry)(e)},[]),(0,r.jsx)(ea,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,_.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,_.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,_.M)(e.onFocusOutside,e=>e.preventDefault())})}),er=a.forwardRef((e,t)=>{let s=$(ee,e.__scopeDialog),n=a.useRef(!1),o=a.useRef(!1);return(0,r.jsx)(ea,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||s.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let r=t.target;s.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),ea=a.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,...d}=e,i=$(ee,s),c=a.useRef(null),x=(0,k.e)(t,c);return(0,I.EW)(),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.M,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:(0,r.jsx)(S.XB,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":ex(i.open),...d,ref:x,onDismiss:()=>i.onOpenChange(!1)})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eh,{titleId:i.titleId}),(0,r.jsx)(eg,{contentRef:c,descriptionId:i.descriptionId})]})]})}),en="DialogTitle",eo=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=$(en,s);return(0,r.jsx)(z.WV.h2,{id:n.titleId,...a,ref:t})});eo.displayName=en;var el="DialogDescription",ed=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=$(el,s);return(0,r.jsx)(z.WV.p,{id:n.descriptionId,...a,ref:t})});ed.displayName=el;var ei="DialogClose",ec=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=$(ei,s);return(0,r.jsx)(z.WV.button,{type:"button",...a,ref:t,onClick:(0,_.M)(e.onClick,()=>n.onOpenChange(!1))})});function ex(e){return e?"open":"closed"}ec.displayName=ei;var eu="DialogTitleWarning",[ep,em]=(0,E.k)(eu,{contentName:ee,titleName:en,docsSlug:"dialog"}),eh=({titleId:e})=>{let t=em(eu),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&!document.getElementById(e)&&console.error(s)},[s,e]),null},eg=({contentRef:e,descriptionId:t})=>{let s=em("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return a.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&!document.getElementById(t)&&console.warn(r)},[r,e,t]),null},eb=s(91405);let ef=a.forwardRef(({className:e,...t},s)=>r.jsx(Q,{ref:s,className:(0,eb.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ef.displayName=Q.displayName;let ev=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(Y,{children:[r.jsx(ef,{}),(0,r.jsxs)(et,{ref:a,className:(0,eb.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,r.jsxs)(ec,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(g.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ev.displayName=et.displayName;let ej=({className:e,...t})=>r.jsx("div",{className:(0,eb.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ej.displayName="DialogHeader";let ey=({className:e,...t})=>r.jsx("div",{className:(0,eb.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ey.displayName="DialogFooter";let eN=a.forwardRef(({className:e,...t},s)=>r.jsx(eo,{ref:s,className:(0,eb.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));eN.displayName=eo.displayName;let ew=a.forwardRef(({className:e,...t},s)=>r.jsx(ed,{ref:s,className:(0,eb.cn)("text-sm text-muted-foreground",e),...t}));ew.displayName=ed.displayName;let e_=e=>{if(!e)return"Not set";try{return(0,y.WU)(new Date(e),"PPP p")}catch(e){return"Invalid Date"}},ek=()=>{let e=(0,o.useParams)(),t=(0,o.useRouter)(),{data:s,status:y}=(0,l.useSession)(),_=e.exchangeId,[k,E]=(0,a.useState)(!1),[D,C]=(0,a.useState)(),[S,P]=(0,a.useState)(!1),[R,A]=(0,a.useState)(!1),{data:z,isLoading:I,error:Z,refetch:M}=d.S.exchange.getExchangeById.useQuery({id:_},{enabled:!!_&&"authenticated"===y,staleTime:3e5}),q=d.S.exchange.respondToRequest.useMutation({onMutate:()=>{E(!0)},onSuccess:e=>{N.Am.success(`Exchange ${"ACCEPTED"===e.status?"accepted":"declined"}.`),"ACCEPTED"===e.status&&P(!0),M()},onError:e=>{N.Am.error(`Failed to respond: ${e.message}`),console.error("Respond error:",e)},onSettled:()=>{E(!1)}}),O=d.S.exchange.scheduleExchange.useMutation({onMutate:()=>{E(!0)},onSuccess:()=>{N.Am.success("Exchange scheduled successfully!"),P(!1),C(void 0),M()},onError:e=>{N.Am.error(`Failed to schedule: ${e.message}`),console.error("Schedule error:",e)},onSettled:()=>{E(!1)}}),F=d.S.exchange.cancelExchange.useMutation({onMutate:()=>{A(!0)},onSuccess:()=>{N.Am.success("Exchange cancelled successfully."),M()},onError:e=>{N.Am.error(`Failed to cancel: ${e.message}`),console.error("Cancel error:",e)},onSettled:()=>{A(!1)}}),T=d.S.exchange.completeExchange.useMutation({onMutate:()=>{E(!0)},onSuccess:()=>{N.Am.success("Exchange marked as complete!"),M()},onError:e=>{N.Am.error(`Failed to complete: ${e.message}`),console.error("Complete error:",e)},onSettled:()=>{E(!1)}}),U=e=>{_&&q.mutate({exchangeId:_,accept:e})};n().useEffect(()=>{"unauthenticated"===y&&t.push("/login")},[y,t]),n().useEffect(()=>{z?.scheduledDate&&C(new Date(z.scheduledDate))},[z?.scheduledDate]);let $=z&&["REQUESTED","ACCEPTED","SCHEDULED"].includes(z.status);if("loading"===y||"authenticated"===y&&I)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx(x.Z,{className:"animate-spin h-12 w-12 text-blue-600"})});if(Z)return r.jsx("div",{className:"container mx-auto p-6 text-center",children:(0,r.jsxs)(i.Zb,{className:"max-w-md mx-auto border-2 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] bg-white",children:[r.jsx(i.Ol,{className:"bg-red-100 border-b-2 border-black",children:(0,r.jsxs)(i.ll,{className:"flex items-center justify-center text-red-700",children:[r.jsx(u.Z,{className:"mr-2",size:20})," Error Loading Exchange"]})}),(0,r.jsxs)(i.aY,{className:"pt-6",children:[r.jsx("p",{className:"text-sm text-red-600 mb-4",children:Z.data?.code==="FORBIDDEN"?"You do not have permission to view this exchange.":`Could not load exchange details: ${Z.message}`}),r.jsx(v.default,{href:"/exchanges",children:r.jsx(c.z,{children:"Back to Exchanges"})})]})]})});if(!z)return(0,r.jsxs)("div",{className:"container mx-auto p-6 text-center",children:[r.jsx("p",{className:"text-gray-600",children:"Exchange not found or still loading..."}),r.jsx(v.default,{href:"/exchanges",children:r.jsx(c.z,{className:"mt-4",children:"Back to Exchanges"})})]});let W=s?.user?.id,V=z.providerId===W,H=z.requesterId===W;V?z.requester:z.provider;let{text:X,icon:Y,color:G}=(e=>{switch(e){case"REQUESTED":return{text:"Requested",icon:p.Z,color:"bg-yellow-100 text-yellow-800 border-yellow-300"};case"ACCEPTED":return{text:"Accepted",icon:m.Z,color:"bg-blue-100 text-blue-800 border-blue-300"};case"SCHEDULED":return{text:"Scheduled",icon:h.Z,color:"bg-indigo-100 text-indigo-800 border-indigo-300"};case"COMPLETED":return{text:"Completed",icon:m.Z,color:"bg-green-100 text-green-800 border-green-300"};case"DECLINED":return{text:"Declined",icon:g.Z,color:"bg-red-100 text-red-800 border-red-300"};case"CANCELLED":return{text:"Cancelled",icon:g.Z,color:"bg-gray-100 text-gray-800 border-gray-300"};default:return{text:e,icon:u.Z,color:"bg-gray-100 text-gray-800 border-gray-300"}}})(z.status);return r.jsx("div",{className:"min-h-screen bg-blue-50 p-4 md:p-8 font-inter",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"mb-6",children:(0,r.jsxs)(v.default,{href:"/exchanges",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:underline",children:[r.jsx(b.Z,{size:16,className:"mr-1"}),"Back to All Exchanges"]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white border-2 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b-2 border-black bg-gray-100 flex justify-between items-center",children:[(0,r.jsxs)("h1",{className:"font-satoshi tracking-satoshi-tight text-lg font-bold text-black flex items-center",children:[r.jsx(f.Z,{className:"mr-2 text-gray-700",size:20}),"Exchange Details"]}),(0,r.jsxs)("div",{className:`flex items-center px-2 py-1 border ${G} text-xs font-bold`,children:[r.jsx(Y,{size:14,className:"mr-1"}),X]})]}),(0,r.jsxs)("div",{className:"px-6 py-6 space-y-6",children:[(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Request ID: ",z.id]}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1 p-4 border-2 border-black bg-gray-50 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Requester"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(j.default,{src:z.requester?.image||"/default-avatar.png",alt:z.requester?.name||"Requester",width:40,height:40,className:"rounded-full border-2 border-black bg-white"}),r.jsx("div",{children:r.jsx("p",{className:"font-bold text-sm",children:z.requester?.name||"Unknown User"})})]})]}),r.jsx(f.Z,{size:24,className:"text-gray-400 flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 p-4 border-2 border-black bg-gray-50 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Provider"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(j.default,{src:z.provider?.image||"/default-avatar.png",alt:z.provider?.name||"Provider",width:40,height:40,className:"rounded-full border-2 border-black bg-white"}),r.jsx("div",{children:r.jsx("p",{className:"font-bold text-sm",children:z.provider?.name||"Unknown User"})})]})]})]}),(0,r.jsxs)("div",{className:"p-4 border-2 border-black bg-yellow-50 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[r.jsx("h3",{className:"font-bold text-sm mb-2",children:"Service Details"}),r.jsx("p",{className:"font-semibold",children:z.providerService?.title||"Service Title Not Available"}),r.jsx(v.default,{href:`/services/${z.providerServiceId}`,className:"text-xs text-blue-600 hover:underline mt-1 inline-block",children:"(View Service)"}),z.requesterService&&(0,r.jsxs)("p",{className:"text-sm mt-1",children:["Offered in return: ",z.requesterService.title]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"p-3 border border-gray-200 bg-gray-50",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Date Requested"}),r.jsx("p",{children:e_(z.createdAt)})]}),(0,r.jsxs)("div",{className:"p-3 border border-gray-200 bg-gray-50",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Scheduled Date"}),r.jsx("p",{children:e_(z.scheduledDate)})]}),(0,r.jsxs)("div",{className:"p-3 border border-gray-200 bg-gray-50",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Date Completed"}),r.jsx("p",{children:e_(z.completedDate)})]}),(0,r.jsxs)("div",{className:"p-3 border border-gray-200 bg-gray-50",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Hours"}),r.jsx("p",{children:null!==z.hours?`${z.hours} hour(s)`:"Not set"})]})]})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white border-2 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:[r.jsx("div",{className:"px-6 py-4 border-b-2 border-black bg-blue-100",children:r.jsx("h2",{className:"font-satoshi tracking-satoshi-tight text-lg font-bold text-black",children:"Actions"})}),(0,r.jsxs)("div",{className:"px-6 py-6 space-y-4",children:["REQUESTED"===z.status&&(0,r.jsxs)(r.Fragment,{children:[V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"text-sm font-medium mb-3",children:["Respond to request from ",z.requester?.name,":"]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsxs)(c.z,{onClick:()=>U(!0),disabled:k,className:"flex-1 bg-green-200 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:[k&&q.variables?.accept?r.jsx(x.Z,{className:"animate-spin mr-2",size:16}):r.jsx(m.Z,{size:16,className:"mr-2"})," Accept"]}),(0,r.jsxs)(c.z,{onClick:()=>U(!1),disabled:k,className:"flex-1 bg-red-200 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:[k&&!q.variables?.accept?r.jsx(x.Z,{className:"animate-spin mr-2",size:16}):r.jsx(g.Z,{size:16,className:"mr-2"})," Decline"]})]})]}),H&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 italic",children:["Waiting for ",z.provider?.name," to respond."]})]}),"ACCEPTED"===z.status&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("p",{className:"text-sm font-medium mb-3",children:"Schedule the exchange:"}),(0,r.jsxs)(L,{open:S,onOpenChange:P,children:[r.jsx(B,{asChild:!0,children:(0,r.jsxs)(c.z,{disabled:k,className:"w-full bg-indigo-200 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:[r.jsx(h.Z,{size:16,className:"mr-2"})," Set Schedule"]})}),(0,r.jsxs)(ev,{className:"sm:max-w-[425px] bg-white border-2 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:[(0,r.jsxs)(ej,{className:"border-b-2 border-black pb-3",children:[r.jsx(eN,{className:"font-satoshi text-lg font-bold",children:"Schedule Exchange"}),r.jsx(ew,{children:"Select a date and time for this service exchange."})]}),r.jsx("div",{className:"py-4",children:r.jsx(w.f,{mode:"single",selected:D,onSelect:C,className:"rounded-md border border-black mx-auto",disabled:e=>e<new Date(new Date().setDate(new Date().getDate()-1))})}),(0,r.jsxs)(ey,{className:"border-t-2 border-black pt-4",children:[r.jsx(ec,{asChild:!0,children:r.jsx(c.z,{type:"button",className:"bg-gray-200 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:"Cancel"})}),(0,r.jsxs)(c.z,{type:"button",onClick:()=>{if(!_||!D){N.Am.error("Please select a date first.");return}O.mutate({exchangeId:_,scheduledDate:D})},disabled:!D||k,className:"bg-blue-200 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:[k?r.jsx(x.Z,{className:"animate-spin mr-2",size:16}):null," Confirm Schedule"]})]})]})]})]}),"SCHEDULED"===z.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"text-sm font-medium mb-2",children:["Scheduled for: ",e_(z.scheduledDate)]}),V&&(0,r.jsxs)(c.z,{onClick:()=>{let e;if(!_)return;let t=prompt("Enter hours completed (optional, min 0.5):","1");if(t){let s=parseFloat(t);if(!isNaN(s)&&s>=.5)e=s;else if(""!==t.trim()){N.Am.error("Invalid hours entered. Please enter a number >= 0.5 or leave blank.");return}}window.confirm("Are you sure you want to mark this exchange as complete?")&&T.mutate({exchangeId:_,hours:e})},disabled:k,className:"w-full bg-green-200 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:[k?r.jsx(x.Z,{className:"animate-spin mr-2",size:16}):r.jsx(m.Z,{size:16,className:"mr-2"})," Mark as Complete"]}),H&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 italic",children:["Waiting for ",z.provider?.name," to mark as complete after the service."]})]}),"COMPLETED"===z.status&&(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 border-2 border-dashed border-green-300",children:[r.jsx(m.Z,{size:24,className:"mx-auto text-green-600 mb-2"}),r.jsx("p",{className:"text-sm font-semibold text-green-800",children:"Exchange completed."})]}),"DECLINED"===z.status&&(0,r.jsxs)("div",{className:"text-center p-4 bg-red-50 border-2 border-dashed border-red-300",children:[r.jsx(g.Z,{size:24,className:"mx-auto text-red-600 mb-2"}),r.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Exchange declined."})]}),"CANCELLED"===z.status&&(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 border-2 border-dashed border-gray-300",children:[r.jsx(g.Z,{size:24,className:"mx-auto text-gray-600 mb-2"}),r.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Exchange cancelled."})]}),r.jsx(c.z,{className:"w-full border-2 border-black bg-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:"Send Message"}),$&&(0,r.jsxs)(c.z,{className:"w-full mt-4 border-2 border-black bg-red-200 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all",onClick:()=>{_&&z&&window.confirm("Are you sure you want to cancel this exchange? This cannot be undone.")&&F.mutate({exchangeId:_})},disabled:R||k,children:[R?r.jsx(x.Z,{size:16,className:"animate-spin mr-2"}):r.jsx(g.Z,{size:16,className:"mr-2"}),"Cancel Exchange"]})]})]})})]})]})})}},22220:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(27486),a=s(27880),n=s(35668),o=s(79730),l=s(618),d=s(56791);function i({children:e}){let[t]=(0,l.useState)(()=>new a.S),[s]=(0,l.useState)(()=>d.S.createClient({links:[(0,o.N8)({url:`${process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:`http://localhost:${process.env.PORT??3e3}`}/api/trpc`})]}));return r.jsx(d.S.Provider,{client:s,queryClient:t,children:r.jsx(n.aH,{client:t,children:e})})}},42388:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(27486),a=s(59149);function n({children:e}){return r.jsx(a.SessionProvider,{children:e})}},72033:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var r=s(27486),a=s(12602),n=s(4039);s(618);var o=s(91405);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-base text-sm font-base ring-offset-white transition-all gap-2 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-black focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-main-foreground bg-main border-2 border-border shadow-shadow hover:translate-x-boxShadowX hover:translate-y-boxShadowY hover:shadow-none",noShadow:"text-main-foreground bg-main border-2 border-border",neutral:"bg-secondary-background text-foreground border-2 border-border shadow-shadow hover:translate-x-boxShadowX hover:translate-y-boxShadowY hover:shadow-none",reverse:"text-main-foreground bg-main border-2 border-border hover:translate-x-reverseBoxShadowX hover:translate-y-reverseBoxShadowY hover:shadow-shadow"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:s,asChild:n=!1,...d}){let i=n?a.g7:"button";return r.jsx(i,{"data-slot":"button",className:(0,o.cn)(l({variant:t,size:s,className:e})),...d})}},94240:(e,t,s)=>{"use strict";s.d(t,{f:()=>d});var r=s(27486),a=s(41621),n=s(37575),o=s(63365);s(618);var l=s(91405);function d({className:e,classNames:t,showOutsideDays:s=!0,...d}){return r.jsx(o._W,{showOutsideDays:s,className:(0,l.cn)("p-1 border-2 border-black bg-white shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] mb-0",e),classNames:{months:"flex flex-col sm:flex-row sm:space-x-4 sm:space-y-0",month:"space-y-1",caption:"flex justify-center pt-1 relative items-center text-black",caption_label:"text-base font-medium",nav:"space-x-1 flex items-center",nav_button:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50","h-7 w-7 bg-transparent p-0 border border-black hover:bg-neutral-100 active:bg-neutral-200"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-10 font-normal text-sm",row:"flex w-full mt-1",cell:(0,l.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-blue-100 first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md","range"===d.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50","h-10 w-10 p-0 font-normal aria-selected:opacity-100 hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-px active:shadow-none active:translate-y-0"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-blue-200 text-black hover:bg-blue-300 focus:bg-blue-300 rounded-md shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]",day_today:"bg-neutral-100 text-black rounded-md border border-black",day_outside:"day-outside text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-blue-100 aria-selected:text-black",day_hidden:"invisible",...t},components:{IconLeft:({...e})=>r.jsx(a.Z,{className:"h-4 w-4"}),IconRight:({...e})=>r.jsx(n.Z,{className:"h-4 w-4"})},...d})}d.displayName="Calendar"},58103:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>n,aY:()=>i,ll:()=>l});var r=s(27486);s(618);var a=s(91405);function n({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:(0,a.cn)("rounded-base flex flex-col shadow-shadow border-2 gap-6 py-6 border-border bg-background text-foreground font-base",e),...t})}function o({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-[data-slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function l({className:e,...t}){return r.jsx("div",{"data-slot":"card-title",className:(0,a.cn)("font-heading leading-none",e),...t})}function d({className:e,...t}){return r.jsx("div",{"data-slot":"card-description",className:(0,a.cn)("text-sm font-base",e),...t})}function i({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}},56791:(e,t,s)=>{"use strict";s.d(t,{S:()=>r});let r=(0,s(37518).ec)()},91405:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(69360),a=s(30405);function n(...e){return(0,a.m6)((0,r.W)(e))}},35210:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(88013).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},19261:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(88013).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5510:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var r=s(92334);let a=(0,r.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\app\exchanges\[exchangeId]\page.tsx`),{__esModule:n,$$typeof:o}=a;a.default;let l=(0,r.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\app\exchanges\[exchangeId]\page.tsx#default`)},73562:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v,metadata:()=>f});var r=s(79703),a=s(77411),n=s.n(a),o=s(38471),l=s.n(o);s(53121);var d=s(92334);let i=(0,d.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\TrpcProvider.tsx`),{__esModule:c,$$typeof:x}=i;i.default;let u=(0,d.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\TrpcProvider.tsx#default`),p=(0,d.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\auth-provider.tsx`),{__esModule:m,$$typeof:h}=p;p.default;let g=(0,d.createProxy)(String.raw`C:\Users\Akshat\projects\april\skillswap\components\auth-provider.tsx#default`);var b=s(98079);let f={title:"SkillSwap",description:"Skill exchange platform"};function v({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:`${n().variable} ${l().variable} font-sans`,children:[r.jsx(g,{children:r.jsx(u,{children:e})}),r.jsx(b.x7,{position:"top-right"})]})})}},53121:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[467,628,123,525,761,124,393,612],()=>s(20826));module.exports=r})();