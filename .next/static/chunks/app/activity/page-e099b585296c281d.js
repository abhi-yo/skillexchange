(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[263],{26187:function(e,s,t){Promise.resolve().then(t.bind(t,59778))},59778:function(e,s,t){"use strict";t.r(s);var a=t(59533),r=t(31229),i=t(96353),l=t(87788),n=t(18889),c=t(24079),d=t(33176),o=t(55242),x=t(63655),h=t(25967),m=t(37710),b=t(7014),p=t(58837),f=t(97611),g=t(90302),u=t(48534),j=t(77493),v=t(14937),k=t(20484);s.default=()=>{var e;let{data:s}=(0,l.useSession)(),t=null==s?void 0:null===(e=s.user)||void 0===e?void 0:e.id,{data:N,isLoading:y,error:w}=n.S.exchange.getRecentActivity.useQuery(void 0,{enabled:!!t,staleTime:3e5}),_=(0,r.useMemo)(()=>{let e=["Dec","Jan","Feb","Mar","Apr","May"],s=e.map(e=>({month:e,completed:0}));if(!N||0===N.length)return s;N.forEach(t=>{if(!t.updatedAt)return;let a=new Date(t.updatedAt).toLocaleDateString("en-US",{month:"short"}).substring(0,3),r=e.findIndex(e=>e===a);r>=0&&"COMPLETED"===t.status&&(s[r].completed+=1)});let t=e.findIndex(e=>"May"===e);return t>=0&&0===s[t].completed&&(s[t].completed=1),s},[N]),E=(0,r.useMemo)(()=>{let e=["Dec","Jan","Feb","Mar","Apr","May"],s=e.map(e=>({month:e,hours:0}));if(!N||0===N.length)return s;N.forEach(t=>{if(!t.updatedAt||!t.hours)return;let a=new Date(t.updatedAt).toLocaleDateString("en-US",{month:"short"}).substring(0,3),r=e.findIndex(e=>e===a);r>=0&&"COMPLETED"===t.status&&(s[r].hours+=t.hours)});let t=e.findIndex(e=>"May"===e);return t>=0&&0===s[t].hours&&(s[t].hours=1),s},[N]);return y?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-blue-50",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(c.Z,{className:"animate-spin h-12 w-12 text-blue-600 mb-4",strokeWidth:2}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-700",children:"Loading Activity..."})]})}):w?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white p-6 border-2 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] text-center max-w-md",children:[(0,a.jsx)(d.Z,{className:"mx-auto h-10 w-10 text-red-500 mb-3",strokeWidth:2}),(0,a.jsx)("h2",{className:"font-satoshi text-xl font-bold text-red-700 mb-2",children:"Error Loading Activity"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4 leading-normal",children:"Could not load your activity history. Please try again later."}),(0,a.jsxs)(i.default,{href:"/dashboard",className:"inline-flex items-center mt-4 px-4 py-2 bg-red-100 text-red-700 font-semibold border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-none transition-all text-sm focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black",children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4",strokeWidth:2}),"Back to Dashboard"]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-blue-50 font-inter pb-10",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-8",children:[(0,a.jsxs)(i.default,{href:"/dashboard",className:"inline-flex items-center p-2 bg-white border-2 border-black shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-none transition-all focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black mr-4",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5",strokeWidth:2}),(0,a.jsx)("span",{className:"sr-only",children:"Back to Dashboard"})]}),(0,a.jsx)("h1",{className:"font-satoshi tracking-tight text-3xl font-bold text-black",children:"Activity History"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white border-2 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-center mb-1",children:[(0,a.jsx)(x.Z,{className:"mr-2",size:24,strokeWidth:2}),(0,a.jsx)("h2",{className:"font-satoshi tracking-tight text-xl font-bold text-black",children:"Exchange Activity"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Completed exchanges per month"}),(0,a.jsx)("div",{className:"h-[280px] w-full mt-4",children:(0,a.jsx)(b.h,{width:"100%",height:"100%",children:(0,a.jsxs)(p.v,{data:_,margin:{top:20,right:20,left:10,bottom:20},children:[(0,a.jsx)(f.q,{strokeDasharray:"3 3",vertical:!1}),(0,a.jsx)(g.K,{dataKey:"month",tickLine:!1,axisLine:!1}),(0,a.jsx)(u.B,{allowDecimals:!1,tickLine:!1,axisLine:!1,domain:[0,2],ticks:[0,1,2]}),(0,a.jsx)(j.$,{dataKey:"completed",name:"Completed",fill:"black",radius:[4,4,4,4],maxBarSize:60})]})})})]})}),(0,a.jsx)("div",{className:"bg-white border-2 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-center mb-1",children:[(0,a.jsx)(h.Z,{className:"mr-2",size:24,strokeWidth:2}),(0,a.jsx)("h2",{className:"font-satoshi tracking-tight text-xl font-bold text-black",children:"Hours Banked"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Hours accumulated per month"}),(0,a.jsx)("div",{className:"h-[280px] w-full mt-4",children:(0,a.jsx)(b.h,{width:"100%",height:"100%",children:(0,a.jsxs)(v.w,{data:E,margin:{top:20,right:20,left:10,bottom:20},children:[(0,a.jsx)(f.q,{strokeDasharray:"3 3",vertical:!1}),(0,a.jsx)(g.K,{dataKey:"month",tickLine:!1,axisLine:!1}),(0,a.jsx)(u.B,{allowDecimals:!1,tickLine:!1,axisLine:!1,domain:[0,2],ticks:[0,1,2]}),(0,a.jsx)(k.x,{type:"monotone",dataKey:"hours",stroke:"black",strokeWidth:2,dot:{fill:"black",strokeWidth:2,r:4},activeDot:{r:6,fill:"black"}})]})})})]})})]}),(0,a.jsx)("div",{className:"bg-white border-2 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] p-5 mb-8",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-8 h-8 border-2 border-black bg-green-200 flex items-center justify-center mr-4 mt-1",children:(0,a.jsx)(m.Z,{size:18,className:"text-green-700",strokeWidth:2})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-base font-semibold text-black",children:["Completed Exchange ",(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"with Akshat Singh"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:'Service: "100 Sol Exchange" - 1 hour'}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"May 3, 2025"})]})]}),(0,a.jsx)("button",{className:"px-3 py-1.5 text-xs bg-blue-100 border border-black hover:bg-blue-200 transition-colors focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:ring-black",children:"View Exchange"})]})}),(0,a.jsxs)("div",{className:"bg-white border-2 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:[(0,a.jsx)("h3",{className:"font-satoshi text-lg font-bold p-5 border-b-2 border-black",children:"All Activity"}),(0,a.jsx)("div",{className:"p-5 border-b-2 border-black",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-8 h-8 border-2 border-black bg-green-200 flex items-center justify-center mr-4 mt-1",children:(0,a.jsx)(m.Z,{size:18,className:"text-green-700",strokeWidth:2})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-base font-semibold text-black",children:["Completed Exchange ",(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"with Akshat Singh"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:'Service: "100 Sol Exchange" - 1 hour'}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"May 3, 2025"})]})]}),(0,a.jsx)("button",{className:"px-3 py-1.5 text-xs bg-blue-100 border border-black hover:bg-blue-200 transition-colors focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:ring-black",children:"View Exchange"})]})})]})]})})}},18889:function(e,s,t){"use strict";t.d(s,{S:function(){return a}});let a=(0,t(24366).ec)()}},function(e){e.O(0,[366,682,353,531,170,842,744],function(){return e(e.s=26187)}),_N_E=e.O()}]);