(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[406],{43881:function(e,r,t){Promise.resolve().then(t.bind(t,46234))},46234:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var n=t(59533),s=t(31229),a=t(87788),i=t(61250),l=t(96353),o=t(18889),c=t(89423),d=t(34373),u=t(24079),f=t(96284),h=t(69882);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,h.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),v=(0,h.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var b=t(58738),m=()=>{let e=(0,i.useRouter)(),{data:r,status:t}=(0,a.useSession)(),[h,m]=(0,s.useState)(null);s.useEffect(()=>{"unauthenticated"===t&&e.push("/login")},[t,e]);let p=o.S.useUtils(),{data:g,isLoading:y,error:j,refetch:w}=o.S.service.getMyServices.useQuery({includeInactive:!0},{enabled:"authenticated"===t}),N=o.S.service.deleteService.useMutation({onMutate:e=>{m(e.id)},onSuccess:()=>{b.Am.success("Service deleted successfully!"),p.service.getMyServices.invalidate()},onError:e=>{var r;(null===(r=e.data)||void 0===r?void 0:r.code)==="CONFLICT"?b.Am.error(e.message):b.Am.error("Failed to delete service. Please try again."),console.error("Delete service error:",e)},onSettled:()=>{m(null)}}),k=(e,r)=>{window.confirm('Are you sure you want to delete the service "'.concat(r,'"? This cannot be undone.'))&&N.mutate({id:e})};return"loading"===t||"authenticated"===t&&y?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsx)(u.Z,{className:"animate-spin h-12 w-12 text-blue-600"})}):j?(0,n.jsxs)("div",{className:"container mx-auto p-4 text-center text-red-600",children:["Error loading your services: ",j.message]}):"authenticated"!==t?null:(0,n.jsx)("div",{className:"min-h-screen bg-blue-50 py-10",children:(0,n.jsxs)("div",{className:"container mx-auto max-w-4xl",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,n.jsx)("h1",{className:"font-satoshi tracking-satoshi-tight text-3xl font-bold",children:"My Service Listings"}),(0,n.jsx)(l.default,{href:"/services/new",children:(0,n.jsxs)(c.z,{className:"flex items-center",children:[(0,n.jsx)(f.Z,{size:18,className:"mr-2"}),"Offer New Service"]})})]}),g&&g.length>0?(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.map(e=>{var r;return(0,n.jsxs)(d.Zb,{className:"border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] flex flex-col",children:[(0,n.jsx)(d.Ol,{className:"border-b-2 border-black pb-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d.ll,{className:"text-xl font-bold mb-1",children:e.title}),(0,n.jsxs)(d.SZ,{className:"text-sm",children:[e.category?(0,n.jsx)("span",{className:"inline-block bg-gray-200 border border-black px-2 py-0.5 text-xs font-medium mr-2",children:e.category.name}):null,(0,n.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium border border-black ".concat(e.isActive?"bg-green-200":"bg-red-200"),children:e.isActive?"Active":"Inactive"})]})]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)(l.default,{href:"/services/".concat(e.id,"/edit"),passHref:!0,children:(0,n.jsx)(c.z,{size:"icon",className:"border-black border-2 h-8 w-8 bg-yellow-200 hover:bg-yellow-300","aria-label":"Edit Service",children:(0,n.jsx)(x,{size:14})})}),(0,n.jsx)(c.z,{size:"icon",className:"border-black border-2 h-8 w-8 bg-red-200 hover:bg-red-300",onClick:()=>k(e.id,e.title),disabled:N.isPending&&h===e.id,"aria-label":"Delete Service",children:N.isPending&&h===e.id?(0,n.jsx)(u.Z,{size:14,className:"animate-spin"}):(0,n.jsx)(v,{size:14})})]})]})}),(0,n.jsxs)(d.aY,{className:"pt-4 flex-grow",children:[(0,n.jsx)("p",{className:"text-sm text-gray-700 mb-3 line-clamp-3",children:e.description||"No description provided."}),(0,n.jsxs)("p",{className:"text-sm font-medium",children:["Rate/Hours: ",(0,n.jsx)("span",{className:"font-bold",children:null!==(r=e.hourlyRate)&&void 0!==r?r:"N/A"})]})]})]},e.id)})}):(0,n.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-400 bg-white",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"No services found"}),(0,n.jsx)("p",{className:"text-gray-600 mb-4",children:"You haven't offered any services yet."}),(0,n.jsx)(l.default,{href:"/services/new",children:(0,n.jsx)(c.z,{children:"Offer Your First Service"})})]})]})})}},89423:function(e,r,t){"use strict";t.d(r,{z:function(){return o}});var n=t(59533),s=t(14492),a=t(95084);t(31229);var i=t(52299);let l=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-base text-sm font-base ring-offset-white transition-all gap-2 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-black focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-main-foreground bg-main border-2 border-border shadow-shadow hover:translate-x-boxShadowX hover:translate-y-boxShadowY hover:shadow-none",noShadow:"text-main-foreground bg-main border-2 border-border",neutral:"bg-secondary-background text-foreground border-2 border-border shadow-shadow hover:translate-x-boxShadowX hover:translate-y-boxShadowY hover:shadow-none",reverse:"text-main-foreground bg-main border-2 border-border hover:translate-x-reverseBoxShadowX hover:translate-y-reverseBoxShadowY hover:shadow-shadow"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:r,variant:t,size:a,asChild:o=!1,...c}=e,d=o?s.g7:"button";return(0,n.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:t,size:a,className:r})),...c})}},34373:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return a},aY:function(){return c},ll:function(){return l}});var n=t(59533);t(31229);var s=t(52299);function a(e){let{className:r,...t}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,s.cn)("rounded-base flex flex-col shadow-shadow border-2 gap-6 py-6 border-border bg-background text-foreground font-base",r),...t})}function i(e){let{className:r,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-[data-slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...t})}function l(e){let{className:r,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("font-heading leading-none",r),...t})}function o(e){let{className:r,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-sm font-base",r),...t})}function c(e){let{className:r,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",r),...t})}},18889:function(e,r,t){"use strict";t.d(r,{S:function(){return n}});let n=(0,t(24366).ec)()},52299:function(e,r,t){"use strict";t.d(r,{cn:function(){return a}});var n=t(27494),s=t(97539);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,n.W)(r))}},96284:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(69882).Z)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},61250:function(e,r,t){"use strict";var n=t(27797);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}})},35220:function(e,r,t){"use strict";t.d(r,{F:function(){return a},e:function(){return i}});var n=t(31229);function s(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function a(...e){return r=>{let t=!1,n=e.map(e=>{let n=s(e,r);return t||"function"!=typeof n||(t=!0),n});if(t)return()=>{for(let r=0;r<n.length;r++){let t=n[r];"function"==typeof t?t():s(e[r],null)}}}}function i(...e){return n.useCallback(a(...e),e)}},14492:function(e,r,t){"use strict";t.d(r,{Z8:function(){return i},g7:function(){return l}});var n=t(31229),s=t(35220),a=t(59533);function i(e){let r=function(e){let r=n.forwardRef((e,r)=>{let{children:t,...a}=e;if(n.isValidElement(t)){let e,i;let l=(e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.props.ref:t.props.ref||t.ref,o=function(e,r){let t={...r};for(let n in r){let s=e[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?t[n]=(...e)=>{a(...e),s(...e)}:s&&(t[n]=s):"style"===n?t[n]={...s,...a}:"className"===n&&(t[n]=[s,a].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==n.Fragment&&(o.ref=r?(0,s.F)(r,l):l),n.cloneElement(t,o)}return n.Children.count(t)>1?n.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=n.forwardRef((e,t)=>{let{children:s,...i}=e,l=n.Children.toArray(s),o=l.find(c);if(o){let e=o.props.children,s=l.map(r=>r!==o?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(r,{...i,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,a.jsx)(r,{...i,ref:t,children:s})});return t.displayName=`${e}.Slot`,t}var l=i("Slot"),o=Symbol("radix.slottable");function c(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},95084:function(e,r,t){"use strict";t.d(r,{j:function(){return i}});var n=t(27494);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=n.W,i=(e,r)=>t=>{var n;if((null==r?void 0:r.variants)==null)return a(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:l}=r,o=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],n=null==l?void 0:l[e];if(null===r)return null;let a=s(r)||s(n);return i[e][a]}),c=t&&Object.entries(t).reduce((e,r)=>{let[t,n]=r;return void 0===n||(e[t]=n),e},{});return a(e,o,null==r?void 0:null===(n=r.compoundVariants)||void 0===n?void 0:n.reduce((e,r)=>{let{class:t,className:n,...s}=r;return Object.entries(s).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...c}[r]):({...l,...c})[r]===t})?[...e,t,n]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}},function(e){e.O(0,[366,682,353,493,738,170,842,744],function(){return e(e.s=43881)}),_N_E=e.O()}]);